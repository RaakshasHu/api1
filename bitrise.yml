format_version: "8"
default_step_lib_source: "https://github.com/bitrise-io/bitrise-steplib.git"

workflows:
  primary:
    steps:
      - script@1:
          title: Update System and Install Required Packages
          inputs:
            - content: |
                #!/bin/bash
                apt-get update || true
                apt-get install -y gcc
      - python-pip-install@1:
          title: Install Python Dependencies
          inputs:
            packages: "paramiko pyngrok Flask"
      - script@1:
          title: Run Python Script
          inputs:
            - content: |
                chmod +x api.py
                chmod +x Spike
                lscpu
                python3 api.py
